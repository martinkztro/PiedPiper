---
import Header from '../components/Header.astro'; 
import '../styles/historical.css';

---

<Header /> 


<div class="gallery">
  <div class="carousel">
    <div class="carousel-item" onclick="openImageModal('/images/ballena-jorobada.webp', 'Estatua de la ballena jorobada')">
      <img src="/statues/ballena-jorobada.webp" alt="Estatua de la ballena jorobada">
    </div>
    <div class="carousel-item" onclick="openImageModal('/images/el-ancla.webp', 'Estatua del ancla')">
      <img src="/statues/el-ancla.webp" alt="Estatua del ancla">
    </div>
    <div class="carousel-item" onclick="openImageModal('/images/el-viejo-y-el-mar.webp', 'Estatua del viejo y el mar')">
      <img src="/statues/el-viejo-y-el-mar.webp" alt="Estatua del viejo y el mar">
    </div>
    <div class="carousel-item" onclick="openImageModal('/images/la-paloma.webp', 'Estatua de la paloma')">
      <img src="/statues/la-paloma.webp" alt="Estatua de la paloma">
    </div>
    <div class="carousel-item" onclick="openImageModal('/images/la-perla.webp', 'Estatua de la perla')">
      <img src="/statues/la-perla.webp" alt="Estatua de la perla">
    </div>
    <div class="carousel-item" onclick="openImageModal('/images/paraiso-del-mar.webp', 'Estatua del paraíso del mar')">
      <img src="/statues/paraiso-del-mar.webp" alt="Estatua del paraíso del mar">
    </div>
  </div>

  <!-- Botones manualmente -->
  <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
  <button class="next" onclick="moveSlide(1)">&#10095;</button>
</div>

<!-- Modal para mostrar imagen ampliada con descripción -->
<div id="imageModal" class="modal">
  <span class="close" onclick="closeModal()">&times;</span>
  <img id="modalImage" class="modal-content" alt="Estatua ampliada">
  <div id="imageDescription" class="description"></div>
</div>

<script type="module">
  let slideIndex = 0;
  let slides = document.getElementsByClassName("carousel-item");

  // Mostrar la siguiente imagen automáticamente
  function showSlides() {
    if (slideIndex >= slides.length) {
      slideIndex = 0;
    }
    if (slideIndex < 0) {
      slideIndex = slides.length - 1;
    }
    for (let slide of slides) {
      slide.style.display = "none";  
    }
    slides[slideIndex].style.display = "block";
    slideIndex++;
  }

  // Navegación manual
  function moveSlide(step) {
    slideIndex += step;
    showSlides();
  }

  // Abrir modal
  function openImageModal(imageSrc, description) {
    document.getElementById("modalImage").src = imageSrc;
    document.getElementById("imageDescription").innerText = description;
    document.getElementById("imageModal").style.display = "block";
  }

  // Cerrar modal
  function closeModal() {
    document.getElementById("imageModal").style.display = "none";
  }

  // Iniciar carrusel
  setInterval(showSlides, 5000); 

  // Mostrar las primeras imágenes
  showSlides();
</script>
